{"version":3,"sources":["assets/message.mp3","components/ModalBroker/Modal.js","components/reuseable/LotCardComponent.js","pages/auction/ViewList.js"],"names":["ModalBroker","props","_useState","useState","filteredData","_useState2","_slicedToArray","_useState3","_useState4","modalRef","useRef","closeOnEscapeKeyDown","e","charCode","keyCode","onClose","useEffect","document","body","addEventListener","removeEventListener","_jsx","_Fragment","children","CSSTransition","nodeRef","in","show","unmountOnExit","timeout","enter","exit","className","onClick","ref","_jsxs","stopPropagation","title","scope","map","el","index","lot","factory_name","maximum_bid","buyer_name","sold_status","type","onV","aria-hidden","id","LotCardComponent","_ref","users","handleSoldstatus","formatTime","time","invoice","price","pkgs","grade","buyer","link_id","disabled","brokers","FaRegCheckSquare","FaRegWindowClose","socket","io","connect","process","ViewList","navigate","useNavigate","show2","setShow2","API_URL","auction_data","useSelector","state","auction","usersString","localStorage","getItem","JSON","parse","checkedItemName","setCheckedItemName","_useState5","_useState6","checkedItemid","setCheckedItemid","_useState7","_useState8","setActivebroker","_useState9","_useState10","list","setList","_useState11","_useState12","rawlist","setrawList","_useState13","_useState14","startIndex","setStartIndex","_useState15","_useState16","endIndex","setEndIndex","_useState17","_useState18","activeUsers","setActiveUsers","_useState19","_useState20","setVisible","_useState21","_useState22","setShowPopup","_useState23","_useState24","setTime","_useState25","_useState26","isRunning","setIsRunning","_useState27","_useState28","bidloading","setbidLoading","_useState29","_useState30","startBloading","setstartBloading","dispatch","useDispatch","_asyncToGenerator","_regeneratorRuntime","mark","_callee","status","value","brokerResponse","wrap","_context","prev","next","axios","put","concat","get","sent","emit","data","current_brokers","on","filter","item","t0","console","log","stop","_x","_x2","apply","arguments","openLot2","_ref2","_callee2","response","_context2","handleVisibilityChange","_ref3","_callee3","_context3","visibilityState","timer","minimizeCheck","_ref4","_callee4","_context4","clearTimeout","setTimeout","statrtAuc","_ref5","_callee5","_context5","post","stopAuc","_ref6","_callee6","_context6","fetchData","_ref7","_callee7","_response$data$","name","userToggleListener","_context7","Promise","all","userId","abrupt","off","isMounted","handleStart","handleStop","handleTimeUpdate","newTime","throttledVisibilityChange","throttle","timeoutId","tick","getAuctiondetails","setItem","handleActiveUsers","count","handleStartIndex","handleEndIndex","throttledStartCountdown","_callee8","_context8","once","Audio","music","play","throttledStopCountdown","_callee9","_context9","minutes","Math","floor","toString","padStart","seconds","filteredDatabrokers","_useState31","checked","_useState32","length","date","sale_no","season","newStartIndex","newEndIndex","short_name","slice","style","height","display","flexDirection","justifyContent","alignItems","ReactLoading","color","width","marginTop","fontSize","fontWeight"],"mappings":"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","file":"static/js/8.7029812b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/message.17f316c9.mp3\";","import React, { useEffect, useState, useRef } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { CSSTransition } from \"react-transition-group\";\r\nimport \"./Modal.css\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst ModalBroker = (props) => {\r\n  const [modaldata, setmodaldata] = useState(props.filteredData);\r\n  const [update, setUpdate] = useState(false);\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const handleSoldstatus = async (el, status) => {\r\n    setUpdate(true);\r\n    const id = el.id;\r\n    const value = status;\r\n\r\n    await axios\r\n      .put(`${API_URL}/updatesold`, {\r\n        id: id,\r\n        status: value,\r\n      })\r\n      .then((response) => {\r\n        axios\r\n          .get(`${API_URL}/catalougedata`)\r\n          .then((response) => {\r\n            props.onClose();\r\n            setmodaldata(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  const modalRef = useRef(null);\r\n\r\n  const closeOnEscapeKeyDown = (e) => {\r\n    if ((e.charCode || e.keyCode) === 27) {\r\n      props.onClose();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.body.addEventListener(\"keydown\", closeOnEscapeKeyDown);\r\n    return function cleanup() {\r\n      document.body.removeEventListener(\"keydown\", closeOnEscapeKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <CSSTransition\r\n        nodeRef={modalRef}\r\n        in={props.show}\r\n        unmountOnExit\r\n        timeout={{ enter: 0, exit: 300 }}\r\n      >\r\n        <div className=\"modal\" onClick={props.onClose} ref={modalRef}>\r\n          <div\r\n            className=\"modal-content\"\r\n            onClick={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"modal-header\">\r\n              <h4 className=\"modal-title\">{props.title}</h4>\r\n            </div>\r\n            <div className=\"modal-body\">\r\n              <table className=\"modaltable table-bordered\">\r\n                <thead>\r\n                  <tr>\r\n                    <th scope=\"col\">#</th>\r\n                    <th scope=\"col\">Lot</th>\r\n                    <th scope=\"col\">Factory</th>\r\n                    <th scope=\"col\">Price</th>\r\n                    <th scope=\"col\">Bidder</th>\r\n                    <th scope=\"col\">Status</th>\r\n                    <th scope=\"col\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {props.filteredData.map((el, index) => (\r\n                    <tr key={el.id}>\r\n                      <td scope=\"row\">\r\n                        <h4>{index + 1}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.lot}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.factory_name}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.maximum_bid}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <h4>{el.buyer_name}</h4>\r\n                      </td>\r\n                      <td>\r\n                        <span\r\n                          className={\r\n                            el.sold_status === 1\r\n                              ? \"hname\"\r\n                              : el.sold_status === 2\r\n                              ? \"rname\"\r\n                              : \"rname\"\r\n                          }\r\n                        >\r\n                          {el.sold_status === 1\r\n                            ? \"Sold\"\r\n                            : el.sold_status === 2\r\n                            ? \"Unsold\"\r\n                            : \"Pending\"}\r\n                        </span>\r\n                      </td>\r\n                      <td>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => props.onV(el, 1)}\r\n                          className=\"btn btn-success px-3\"\r\n                        >\r\n                          <i className=\"fas fa-check\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => props.onV(el, 2)}\r\n                          className=\"btn btn-danger px-3\"\r\n                        >\r\n                          <i className=\"fas fa-times\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          onClick={() => props.onV(el, 0)}\r\n                          className=\"btn btn-info px-3\"\r\n                        >\r\n                          <i className=\"fas fa-spinner\" aria-hidden=\"true\"></i>\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button onClick={props.onClose} className=\"btn btn-danger\">\r\n                Close\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ModalBroker;\r\n","import React from 'react'\r\nimport {FaRegWindowClose,\r\n    FaRegCheckSquare,\r\n    } from \"react-icons/fa\";\r\n    const LotCardComponent = ({ el, users, handleSoldstatus, formatTime, time }) => (\r\n        <div className=\"col-md-3 col-sm-12 col-xs-12 list\">\r\n          <div className=\"card mb-4\">\r\n            <div className=\"badge\">Lot- {el.lot}</div>\r\n      \r\n            <div className=\"card-body \">\r\n              <span className=\"text-white bg-l px-2 py-1 rounded-pill animate__animated animate__flash animate__infinite\">\r\n                Live {formatTime(time)}\r\n                <span className=\"dot\"></span>\r\n              </span>\r\n      \r\n              <div className=\"mt-3 row\">\r\n                <div className=\"col-md-7 col-sm-7 col-xs-7 border-right\">\r\n                  <h5 className=\"card-title\">{el.factory_name}</h5>\r\n                  <p className=\"card-text\">INV:{el.invoice} LOT:{el.lot}</p>\r\n      \r\n                  <p className=\"card-text\">\r\n                    PRICE:{el.price} QTY:{el.pkgs}\r\n                  </p>\r\n                  <p className=\"card-text\">GRADE:{el.grade}</p>\r\n      \r\n                  <div className=\"card-sp\">\r\n                    {el.maximum_bid === 0 ? (\r\n                      <>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <h5 className=\"card-price\">Max.{el.maximum_bid}</h5>\r\n                        <span\r\n                          className={\r\n                            el.buyer === users.link_id ? \"hname\" : \"rname\"\r\n                          }\r\n                        >\r\n                          {el.buyer_name}({el.maximum_bid - el.price})\r\n                        </span>\r\n                        <br />\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n      \r\n                <div className=\"col-md-5 d-flex justify-content-center align-items-center col-sm-5 col-xs-5 b-bg\">\r\n                  <div className=\"cusrow\">\r\n                    <button\r\n                      onClick={() => handleSoldstatus(el, 1)}\r\n                      disabled={el.brokers === users.link_id ? false : true}\r\n                      className=\"btn btn-success square-circle mr-4\"\r\n                    >\r\n                      <FaRegCheckSquare className=\"bid\" />\r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleSoldstatus(el, 2)}\r\n                      disabled={el.brokers === users.link_id ? false : true}\r\n                      className=\"btn btn-danger square-circle\"\r\n                    >\r\n                      <FaRegWindowClose className=\"bid\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n      \r\n\r\nexport default LotCardComponent\r\n","import { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport music from \"../../assets/message.mp3\";\r\nimport io from \"socket.io-client\";\r\nimport ModalBroker from \"../../components/ModalBroker/Modal\";\r\nimport ReactLoading from \"react-loading\";\r\nimport { throttle } from \"lodash\";\r\nimport { getAuctiondetails } from \"../../store/auctionSlice\";\r\nimport LotCardComponent from \"../../components/reuseable/LotCardComponent\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst socket = io.connect(process.env.REACT_APP_SERVER_URL);\r\nconst ViewList = () => {\r\n  const navigate = useNavigate();\r\n  const [show2, setShow2] = useState(false);\r\n  const API_URL = process.env.REACT_APP_SERVER_URL;\r\n  const { auction_data } = useSelector((state) => state.auction);\r\n  const usersString = localStorage.getItem(\"users\");\r\n  const users = JSON.parse(usersString);\r\n  const [checkedItemName, setCheckedItemName] = useState(\"\");\r\n  const [checkedItemid, setCheckedItemid] = useState(\"\");\r\n  const [activebroker, setActivebroker] = useState();\r\n  const [list, setList] = useState([]);\r\n  const [rawlist, setrawList] = useState([]);\r\n  const [startIndex, setStartIndex] = useState(0);\r\n  const [endIndex, setEndIndex] = useState(1);\r\n  const [activeUsers, setActiveUsers] = useState(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const [showPopup, setShowPopup] = useState(true);\r\n  const [time, setTime] = useState(0);\r\n  const [isRunning, setIsRunning] = useState(false);\r\n\r\n  const [bidloading, setbidLoading] = useState(false);\r\n  const [startBloading, setstartBloading] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const handleSoldstatus = async (el, status) => {\r\n    try {\r\n      setbidLoading(true);\r\n      const id = el.id;\r\n      const value = status;\r\n\r\n      await axios.put(`${API_URL}/updatesold`, {\r\n        id: id,\r\n        status: value,\r\n      });\r\n\r\n      const brokerResponse = await axios.get(`${API_URL}/getselectbroker`);\r\n      socket.emit(\"user\", brokerResponse.data[0].current_brokers);\r\n      setbidLoading(false);\r\n\r\n      socket.on(\"users\", (data) => {\r\n        const filteredData = data.filter((item) => item.sold_status === 0);\r\n        setList(filteredData);\r\n        setrawList(data);\r\n      });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //bidders modal\r\n  const openLot2 = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/getselectbroker`);\r\n      socket.emit(\"user\", response.data[0].current_brokers);\r\n      setShow2(true);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  //visibility change for bidder\r\n  const handleVisibilityChange = async () => {\r\n    if (document.visibilityState === \"visible\") {\r\n      try {\r\n        const response = await axios.get(`${API_URL}/getselectbroker`);\r\n        const { auction } = response.data[0];\r\n        setShowPopup(auction === 0);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    }\r\n  };\r\n  let timer = null;\r\n\r\nconst minimizeCheck = async () => {\r\n  if (document.visibilityState === 'visible') {\r\n    clearTimeout(timer);\r\n  } else {\r\n    timer = setTimeout(() => {\r\n      // console.log(7899);\r\n      navigate('/')\r\n      // window.location.reload();\r\n    }, 50000); // Reload after 10 seconds (10000 milliseconds)\r\n  }\r\n};\r\n\r\n\r\n  //on next\r\n  const onNext = () => {\r\n    if (endIndex + 4 <= list.length) {\r\n      const newStartIndex = startIndex + 4;\r\n      const newEndIndex = endIndex + 4;\r\n\r\n      setStartIndex(newStartIndex);\r\n      setEndIndex(newEndIndex);\r\n\r\n      socket.emit(\"updateIndexes\", {\r\n        startIndex: newStartIndex,\r\n        endIndex: newEndIndex,\r\n      });\r\n      socket.off(\"updateIndexes\");\r\n    }\r\n  };\r\n\r\n  //on previous\r\n  const onPrevious = () => {\r\n    if (startIndex - 4 >= 0) {\r\n      const newStartIndex = startIndex - 4;\r\n      const newEndIndex = endIndex - 4;\r\n\r\n      setStartIndex(newStartIndex);\r\n      setEndIndex(newEndIndex);\r\n\r\n      socket.emit(\"updateIndexes\", {\r\n        startIndex: newStartIndex,\r\n        endIndex: newEndIndex,\r\n      });\r\n      socket.off(\"updateIndexes\");\r\n    }\r\n  };\r\n\r\n  const statrtAuc = async () => {\r\n    try {\r\n      await axios.post(`${API_URL}/startauc`);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const stopAuc = async () => {\r\n    try {\r\n      await axios.post(`${API_URL}/stopauc`);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      const response = await axios.get(`${API_URL}/getselectbroker`);\r\n      const { auction, current_brokers, name, id } = response.data[0];\r\n  \r\n      if (auction === 0) {\r\n        setShowPopup(true);\r\n      } else {\r\n        setShowPopup(false);\r\n      }\r\n  \r\n    \r\n  \r\n      await Promise.all([\r\n        setCheckedItemName(name),\r\n        setCheckedItemid(id),\r\n        setActivebroker(current_brokers),\r\n      \r\n      ]);\r\n  \r\n      socket.emit(\"user\", current_brokers);\r\n      // socket.emit(\"user_toggle\", current_brokers); need\r\n  \r\n      const userToggleListener = (userId) => {\r\n        setVisible(userId === users.link_id);\r\n      };\r\n  \r\n      socket.on(\"user_toggle\", userToggleListener);\r\n  \r\n      // Cleanup function\r\n      return () => {\r\n        socket.off(\"users\",current_brokers);\r\n        // Remove the userToggleListener when the component unmounts\r\n        socket.off(\"user_toggle\", userToggleListener);\r\n      };\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n  \r\n\r\n  useEffect(() => {\r\n\r\n    let isMounted = true;\r\n\r\n    const handleStart = () => {\r\n      setIsRunning(true);\r\n    };\r\n\r\n    const handleStop = () => {\r\n      setIsRunning(false);\r\n    };\r\n\r\n    const handleTimeUpdate = (newTime) => {\r\n      setTime(newTime);\r\n    };\r\n\r\n    const throttledVisibilityChange = throttle(handleVisibilityChange, 1000);\r\n\r\n    socket.on(\"visibility\", throttledVisibilityChange);\r\n    socket.on(\"start\", handleStart);\r\n    socket.on(\"stop\", handleStop);\r\n    socket.on(\"time\", handleTimeUpdate);\r\n    // console.log('thn');\r\n    fetchData();\r\n\r\n    // dispatch(getuser());\r\n\r\n    socket.on(\"users\", (data) => {\r\n      // console.log('thn');\r\n      if (isMounted) {\r\n        const filteredData = data.filter((item) => item.sold_status === 0);\r\n        setList(filteredData);\r\n        setrawList(data);\r\n      }\r\n    });\r\n\r\n    socket.on(\"checkname\", (data) => {\r\n      if (isMounted) {\r\n        setCheckedItemName(data);\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      isMounted = false;\r\n      socket.off(\"users\");\r\n      socket.off(\"checkname\");\r\n      socket.off(\"visibility\", throttledVisibilityChange);\r\n      socket.off(\"start\", handleStart);\r\n      socket.off(\"stop\", handleStop);\r\n      socket.off(\"time\", handleTimeUpdate);\r\n    };\r\n  }, [socket]);\r\n\r\n\r\n  useEffect(() => {\r\n    let timeoutId;\r\n\r\n    const tick = () => {\r\n      socket.emit(\"tick\");\r\n      timeoutId = setTimeout(tick, 1000);\r\n    };\r\n\r\n    if (isRunning) {\r\n      tick();\r\n    } else {\r\n      clearTimeout(timeoutId);\r\n    }\r\n\r\n    return () => clearTimeout(timeoutId);\r\n  }, [isRunning]);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    dispatch(getAuctiondetails());\r\n    const handleVisibilityChange = (value) => {\r\n      setShowPopup(value);\r\n      localStorage.setItem(\"isVisible\", value);\r\n    };\r\n  \r\n    const handleStart = () => {\r\n      setIsRunning(true);\r\n    };\r\n  \r\n    const handleStop = () => {\r\n      setIsRunning(false);\r\n    };\r\n  \r\n    const handleTimeUpdate = (newTime) => {\r\n      setTime(newTime);\r\n    };\r\n  \r\n    const handleActiveUsers = (count) => {\r\n      setActiveUsers(count);\r\n    };\r\n  \r\n    const handleStartIndex = (data) => {\r\n      setStartIndex(data);\r\n    };\r\n  \r\n    const handleEndIndex = (data) => {\r\n      setEndIndex(data);\r\n    };\r\n  \r\n    socket.on(\"visibility\", handleVisibilityChange);\r\n    socket.on(\"start\", handleStart);\r\n    socket.on(\"stop\", handleStop);\r\n    socket.on(\"time\", handleTimeUpdate);\r\n    socket.on(\"activeUsers\", handleActiveUsers);\r\n    socket.on(\"startIndex\", handleStartIndex);\r\n    socket.on(\"endIndex\", handleEndIndex);\r\n    socket.emit(\"getObjects\");\r\n    document.addEventListener(\"visibilitychange\", minimizeCheck);\r\n\r\n    return () => {\r\n      isMounted = false;\r\n      // clearTimeout(timeoutId);\r\n      document.removeEventListener(\"visibilitychange\", minimizeCheck);\r\n      socket.off(\"visibility\", handleVisibilityChange);\r\n      socket.off(\"start\", handleStart);\r\n      socket.off(\"stop\", handleStop);\r\n      socket.off(\"time\", handleTimeUpdate);\r\n      socket.off(\"activeUsers\", handleActiveUsers);\r\n      socket.off(\"startIndex\", handleStartIndex);\r\n      socket.off(\"endIndex\", handleEndIndex);\r\n      socket.off(\"getObjects\");\r\n       };\r\n  }, []);\r\n  \r\n  \r\n\r\n  const startCountdown = () => {\r\n    throttledStartCountdown();\r\n  };\r\n  \r\n  const throttledStartCountdown = throttle(async () => {\r\n    setstartBloading(true)\r\n    await statrtAuc();\r\n    setShowPopup(false);\r\n    socket.emit(\"visibility\", false);\r\n    \r\n    socket.once(\"play-sound\", () => {\r\n      const audio = new Audio(music);\r\n      audio.play();\r\n    });\r\n    \r\n    socket.emit(\"start\");\r\n    setstartBloading(false)\r\n  }, 1000);\r\n  \r\n  const stopCountdown = () => {\r\n    throttledStopCountdown();\r\n  };\r\n  \r\n  const throttledStopCountdown = throttle(async() => {\r\n    await stopAuc();\r\n    setShowPopup(true);\r\n    socket.emit(\"visibility\", true);\r\n    socket.emit(\"stop\");\r\n  }, 1000); // Throttle the function with a delay of 1000 milliseconds\r\n  \r\n\r\n  const formatTime = (time) => {\r\n    const minutes = Math.floor(time / 60)\r\n      .toString()\r\n      .padStart(2, \"0\");\r\n    const seconds = (time % 60).toString().padStart(2, \"0\");\r\n    return `${minutes}:${seconds}`;\r\n  };\r\n\r\n  // const filteredData = rawlist.filter((item) => item.buyer === users.link_id);\r\n  const filteredDatabrokers = rawlist.filter(\r\n    (item) => item.brokers === checkedItemid && item.buyer != 0\r\n  );\r\n\r\n\r\n\r\n  // console.log(filteredDatabrokers);\r\n  const [list5, setList5] = useState([\r\n    { id: 1, name: \"Uttarbangla brokers Ltd.\", checked: false },\r\n    { id: 2, name: \"Uttaranchal brokers Ltd.\", checked: false },\r\n    { id: 3, name: \"Mohanonda brokers Ltd.\", checked: false },\r\n    { id: 4, name: \"Green valley tea brokers Ltd.\", checked: false },\r\n    { id: 5, name: \"Indigo brokers Ltd.\", checked: false },\r\n  ]);\r\n\r\n  return (\r\n    <>\r\n      {bidloading ? (\r\n        <>\r\n          <div className=\"overlay\">\r\n            <div className=\"spinner-container\">\r\n              <div className=\"spinner\"></div>\r\n              <span>Verifying data...</span>\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      {!rawlist[0] ? (\r\n        <>\r\n          <div\r\n            style={{\r\n              height: \"100vh\",\r\n              display: \"flex\",\r\n              flexDirection: \"column\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <ReactLoading\r\n              type={\"spin\"}\r\n              color={\"#007bff\"}\r\n              height={50}\r\n              width={50}\r\n            />\r\n            <div\r\n              style={{\r\n                marginTop: \"20px\",\r\n                fontSize: \"16px\",\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              Verifying Data...\r\n            </div>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n\r\n          <ModalBroker\r\n            title=\"Brokers Lot\"\r\n            onClose={() => setShow2(false)}\r\n            show={show2}\r\n            filteredData={filteredDatabrokers}\r\n            onV={handleSoldstatus}\r\n          ></ModalBroker>\r\n\r\n\r\n          <div className=\"section-head sec-h\">\r\n            <p className=\"br-n\">={checkedItemName}=</p>\r\n            <div className=\"row newc\">\r\n              <div className=\"col-7 col-md-9 card-btn leftCard\">\r\n                <h2>\r\n                  Auction Date:{\" \"}\r\n                  {auction_data.length === 0 ? \"\" : auction_data[0].date}{\" \"}\r\n                </h2>\r\n                <p>\r\n                  SALE NO - #\r\n                  {auction_data.length === 0 ? \"\" : auction_data[0].sale_no}{\" \"}\r\n                  {activeUsers}{\" \"}\r\n                </p>\r\n                <p>\r\n                  Season - #\r\n                  {auction_data.length === 0 ? \"\" : auction_data[0].season}{\" \"}\r\n                </p>\r\n                <p>\r\n                  CURRENT BROKER :{\" \"}\r\n                  <span className=\"c_brokers\">{checkedItemName}</span>{\" \"}\r\n                </p>\r\n\r\n                <div className=\" row margin-left\">\r\n                  {users.type === \"BROKERS\" ? (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={openLot2}\r\n                      className=\"col-5  buttonGroup btn btn-danger my-btn\"\r\n                    >\r\n                      All\r\n                    </button>\r\n                  ) : (\r\n                    \"\"\r\n                  )}\r\n                </div>\r\n              </div>\r\n              <div className=\"col-5 col-md-3 align-items-center justify-content-center mt-5 rCard\">\r\n                <div className=\"bflex card-btn rightButton\">\r\n                  <div className=\"button-row\">\r\n                    <button\r\n                      disabled={startBloading}\r\n                      type=\"button\"\r\n                      onClick={startCountdown}\r\n                      className=\"buttonGroup btn btn-primary my-btn\"\r\n                    >\r\n                      START\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={stopCountdown}\r\n                      className=\"buttonGroup btn btn-danger my-btn\"\r\n                    >\r\n                      STOP\r\n                    </button>\r\n                  </div>\r\n                  <div className=\"button-row\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={onPrevious}\r\n                      className=\"buttonGroup btn btn-success my-btn\"\r\n                    >\r\n                      PREV\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={onNext}\r\n                      className=\"buttonGroup btn btn-success my-btn\"\r\n                    >\r\n                      NEXT\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"col-12\">\r\n                  <div className=\"card\">\r\n                    <div className=\"row rightCard\">\r\n                      <div className=\" \">\r\n                        <div className=\"col-md-6 count-t\">\r\n                          <h2 className=\"text-center mh2\">\r\n                            {formatTime(time)}\r\n                          </h2>\r\n                        </div>\r\n                        <div className=\"col-md-6 name-t\">\r\n                          <h2 className=\"mh2 text-center\">\r\n                            {users.short_name}\r\n                          </h2>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <h2 className=\"text-center p-h\">-={users.type} PANEL=-</h2>\r\n          <hr className=\"hr-h\" />\r\n          <div className=\"con\">\r\n            <div className=\"row g-1\">\r\n              {list.slice(startIndex, endIndex + 3).map((el, index) => (\r\n                <LotCardComponent\r\n                  key={el.id + 9}\r\n                  el={el}\r\n                  users={users}\r\n                  handleSoldstatus={handleSoldstatus}\r\n                  formatTime={formatTime}\r\n                  time={time} // Add the time prop here\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewList;\r\n"],"sourceRoot":""}