(this["webpackJsonpreact-dashboard"]=this["webpackJsonpreact-dashboard"]||[]).push([[6],{101:function(e,t,c){"use strict";t.a=c.p+"static/media/message.17f316c9.mp3"},115:function(e,t,c){},121:function(e,t,c){},127:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),a=c(6),r=c(5),i=c(93),l=c(10),d=c(7),o=c(0),j=c(17),b=(c(115),c.p+"static/media/trading.c31da198.jpg"),u=c(2);var m=function(e){return e.isOpen,e.onClose,Object(u.jsx)("div",{className:"trading container d-flex justify-content-center align-items-center vh-100",children:Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("img",{src:b,width:"50%",alt:"Image",className:"img-fluid"}),Object(u.jsx)("h2",{className:"mt-3",children:"Trading has not yet started!!"}),Object(u.jsx)("p",{className:"lead",children:"Please be advised that trading has not yet begun for the day. If you are attempting to place a trade, please wait until trading commences before doing so. Thank you for your patience and understanding."})]})})},h=c(9),O=c.n(h),x=c(101),f=c(25),p=c(102),v=c(126),g=(c(121),function(e){var t=function(t){27===(t.charCode||t.keyCode)&&e.onClose()};return Object(o.useEffect)((function(){return document.body.addEventListener("keydown",t),function(){document.body.removeEventListener("keydown",t)}}),[]),Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(v.a,{in:e.show,unmountOnExit:!0,timeout:{enter:0,exit:300},children:Object(u.jsx)("div",{className:"modal",onClick:e.onClose,children:Object(u.jsxs)("div",{className:"modal-content",onClick:function(e){return e.stopPropagation()},children:[Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsx)("h4",{className:"modal-title",children:e.title})}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsxs)("table",{className:"modaltable table-bordered",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Lot"}),Object(u.jsx)("th",{scope:"col",children:"Factory"}),Object(u.jsx)("th",{scope:"col",children:"Price"}),Object(u.jsx)("th",{scope:"col",children:"Bidder"}),Object(u.jsx)("th",{scope:"col",children:"Status"})]})}),Object(u.jsx)("tbody",{children:e.filteredData.map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("h4",{children:t+1})}),Object(u.jsx)("td",{children:Object(u.jsx)("h4",{children:e.lot})}),Object(u.jsx)("td",{children:Object(u.jsx)("h4",{children:e.factory_name})}),Object(u.jsx)("td",{children:Object(u.jsx)("h4",{children:e.maximum_bid})}),Object(u.jsx)("td",{children:Object(u.jsx)("h4",{children:e.buyer_name})}),Object(u.jsx)("td",{children:Object(u.jsx)("span",{className:1===e.sold_status?"hname":(e.sold_status,"rname"),children:1===e.sold_status?"Sold":2===e.sold_status?"Unsold":"Pending"})})]},t)}))})]})}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{onClick:e.onClose,className:"btn btn-danger",children:"Close"})})]})})})})}),N=c(106),y=c.n(N),k=c(100),S=c(45),_=function(e){var t=e.index,c=e.time,n=e.el,s=e.users,a=e.formatTime,r=e.manualmode,i=e.selectedIndex,l=e.handleInputChange,d=e.addBid,o=e.handleInc,j=e.disabledButtons,b=e.setSelectedIndex,m=e.setManualmode;return Object(u.jsx)("div",{className:"col-md-3 col-sm-12 col-xs-12 list",children:Object(u.jsxs)("div",{className:"card mb-4",children:[Object(u.jsxs)("div",{className:"badge",children:["Lot- ",n.lot]}),Object(u.jsxs)("div",{className:"card-body ",children:[Object(u.jsxs)("span",{className:"text-white bg-l px-2 py-1 rounded-pill animate__animated animate__flash animate__infinite",children:["Live ",a(c),Object(u.jsx)("span",{className:"dot"})]}),Object(u.jsxs)("div",{className:"mt-3 row",children:[Object(u.jsxs)("div",{className:"col-md-7 col-sm-7 col-xs-7 border-right",children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col custom-bg-1 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"FACTORY"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.factory_name})]}),Object(u.jsxs)("div",{className:"col custom-bg-2 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"INVOICE"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.invoice})]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col custom-bg-3 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"LOT"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.lot})]}),Object(u.jsxs)("div",{className:"col custom-bg-4 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"PRICE"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.price})]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col custom-bg-5 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"QTY"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.pkgs})]}),Object(u.jsxs)("div",{className:"col custom-bg-6 custom-padding",children:[Object(u.jsx)("p",{className:"header-text text-center",children:"GRADE"}),Object(u.jsx)("p",{className:"card-text text-center",children:n.grade})]})]}),Object(u.jsx)("div",{className:"row mxcom",children:!0===r&&i===t||0===n.maximum_bid?Object(u.jsxs)("div",{className:"mn-bid col-12",children:[Object(u.jsxs)("h5",{className:"card-price",children:["Max.",n.maximum_bid]}),Object(u.jsx)("input",{className:"form-control m_bid",autoComplete:"off",type:"number",id:"name".concat(n.id),name:"name",value:n.name,onChange:function(e){return l(e,t)}})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h5",{className:"card-price",children:["Max.",n.maximum_bid]}),Object(u.jsxs)("span",{className:n.buyer===s.link_id?"hname":"rname",children:[n.buyer_name,"(",n.maximum_bid-n.price,")"]}),Object(u.jsx)("br",{})]})})]}),Object(u.jsx)("div",{className:"col-md-5 d-flex justify-content-center align-items-center col-sm-5 col-xs-5 b-bg",children:0===n.maximum_bid?Object(u.jsx)("button",{disabled:"BIDDER"!==s.type,onClick:function(){return d(n,t)},className:"btn btn-danger square-circle",children:Object(u.jsx)(S.a,{className:"bid"})},n.id+10):Object(u.jsx)("div",{className:"col-12 b-bg",children:Object(u.jsxs)("div",{className:"bidcont mb-2",children:[Object(u.jsxs)("button",{disabled:j.includes(t),onClick:function(){return o(n,t)},className:"btn btn-danger square-circle bidbtn",children:[Object(u.jsx)(S.a,{className:"bid"})," +1"]},n.id+11),Object(u.jsxs)("button",{onClick:function(){!0===r&&i===t?d(n,t):(m(!0),b(t))},className:"btn btn-primary square-circle bidbtn",children:[Object(u.jsx)(S.a,{className:"bid"})," BID"]},n.id)]})})})]})]})]})})},I=function(e){var t=e.time,c=e.list,n=e.startIndex,s=e.endIndex,a=e.users,r=e.formatTime,i=e.manualmode,l=e.selectedIndex,d=e.handleInputChange,o=e.addBid,j=e.handleInc,b=e.disabledButtons,m=e.setManualmode,h=e.setSelectedIndex;return Object(u.jsx)("div",{className:"con",children:Object(u.jsx)("div",{className:"row g-1",children:c.slice(n,s+3).map((function(e,c){return Object(u.jsx)(_,{time:t,el:e,index:c,setManualmode:m,setSelectedIndex:h,users:a,formatTime:r,manualmode:i,selectedIndex:l,handleInputChange:d,addBid:o,handleInc:j,disabledButtons:b},e.id+9)}))})})},w=c(4),C=p.a.connect("http://68.183.81.28:3009");t.default=function(){var e=Object(w.n)(),t=Object(o.useState)(!1),c=Object(d.a)(t,2),n=c[0],b=c[1],h="http://68.183.81.28:3009",p=Object(j.b)(),v=Object(j.c)((function(e){return e.auction})).auction_data,N=localStorage.getItem("users"),S=JSON.parse(N),_=Object(o.useState)([]),E=Object(d.a)(_,2),P=E[0],D=E[1],T=Object(o.useState)(""),B=Object(d.a)(T,2),L=(B[0],B[1]),R=Object(o.useState)(""),F=Object(d.a)(R,2),M=F[0],A=F[1],U=Object(o.useState)(""),q=Object(d.a)(U,2),J=q[0],V=q[1],G=Object(o.useState)(),K=Object(d.a)(G,2),Y=K[0],z=K[1],Q=Object(o.useState)([]),W=Object(d.a)(Q,2),H=W[0],X=W[1],Z=Object(o.useState)([]),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(o.useState)(!1),ne=Object(d.a)(ce,2),se=(ne[0],ne[1]),ae=Object(o.useState)([]),re=Object(d.a)(ae,2),ie=re[0],le=re[1],de=Object(o.useState)(null),oe=Object(d.a)(de,2),je=oe[0],be=oe[1],ue=Object(o.useState)(0),me=Object(d.a)(ue,2),he=me[0],Oe=me[1],xe=Object(o.useState)(1),fe=Object(d.a)(xe,2),pe=fe[0],ve=fe[1],ge=Object(o.useState)(0),Ne=Object(d.a)(ge,2),ye=Ne[0],ke=Ne[1],Se=Object(o.useState)(!1),_e=Object(d.a)(Se,2),Ie=(_e[0],_e[1]),we=Object(o.useState)(!0),Ce=Object(d.a)(we,2),Ee=Ce[0],Pe=Ce[1],De=Object(o.useState)(0),Te=Object(d.a)(De,2),Be=Te[0],Le=Te[1],Re=Object(o.useState)(!1),Fe=Object(d.a)(Re,2),Me=Fe[0],Ae=Fe[1],Ue=Object(o.useState)(!1),qe=Object(d.a)(Ue,2),Je=qe[0],Ve=qe[1],Ge=Object(o.useState)(!1),Ke=Object(d.a)(Ge,2),Ye=Ke[0],ze=Ke[1],Qe=Object(o.useState)(!1),We=Object(d.a)(Qe,2),He=We[0],Xe=We[1],Ze=function(){var e=Object(a.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("".concat(h,"/getselectbroker")).then((function(e){C.emit("user",e.data[0].current_brokers)})).catch((function(e){console.log(e)}));case 2:p(f.c),b(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(a.a)(s.a.mark((function e(t,c){var n,a,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!=(a=(null===(n=P[c])||void 0===n?void 0:n.name)||null)&&t.maximum_bid<a)){e.next=17;break}return e.prev=2,r={id:t.id,bid:a,buyer:S.link_id},e.next=6,O.a.put("".concat(h,"/manualbid"),r);case 6:return e.next=8,O.a.get("".concat(h,"/getselectbroker"));case 8:i=e.sent,C.emit("user",i.data[0].current_brokers),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:e.next=18;break;case 17:alert("Amount less than maximum bid");case 18:Xe(!1);case 19:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,c){return e.apply(this,arguments)}}(),et=null,tt=function(){"visible"===document.visibilityState?(clearTimeout(et),O.a.get("".concat(h,"/getselectbroker")).then((function(e){0===e.data[0].auction?Pe(!0):Pe(!1)})).catch((function(e){console.error("Error fetching data:",e)}))):et=setTimeout((function(){e("/")}),5e4)};Object(o.useEffect)((function(){return document.addEventListener("visibilitychange",tt),function(){clearTimeout(et),document.removeEventListener("visibilitychange",tt)}}),[]);var ct=function(){var e=Object(a.a)(s.a.mark((function e(t,c){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return le((function(e){return[].concat(Object(l.a)(e),[c])})),ze(!0),n=new Audio(x.a),a=H.map((function(e,c){return e.id===t.id?Object(i.a)(Object(i.a)({},e),{},{maximum_bid:e.maximum_bid+1,buyer:S.link_id,key:c}):Object(i.a)(Object(i.a)({},e),{},{key:c})})),r=a.filter((function(e){return e.id===t.id})),e.prev=5,e.next=8,O.a.put("".concat(h,"/updateauction"),r);case 8:C.emit("user",Y),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),console.log(e.t0);case 14:return e.prev=14,X(a),n.play(),se(!1),ze(!1),le((function(e){return e.filter((function(e){return e!==c}))})),e.finish(14);case 21:case"end":return e.stop()}}),e,null,[[5,11,14,21]])})));return function(t,c){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=function(e){ke(e)},t=function(e){Oe(e)},c=function(e){ve(e)};return C.on("activeUsers",e),C.on("startIndex",t),C.on("endIndex",c),C.emit("getObjects"),function(){C.off("activeUsers",e),C.off("startIndex",t),C.off("endIndex",c)}}),[]);var nt=function(){var e=Object(a.a)(s.a.mark((function e(){var t,c,n,a,r,i,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,O.a.get("".concat(h,"/getselectbroker"));case 4:c=e.sent,t&&(n=c.data[0],a=n.auction,r=n.current_brokers,i=n.name,l=n.id,Pe(0===a),Promise.all([A(i),V(l),z(r)]).then((function(){C.emit("user",r),C.on("user_toggle",(function(e){Ie(e===S.link_id)}))}))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){var e=!0;Ve(!0),setTimeout((function(){Ve(!1)}),1e3);var t=function(){Ae(!0)},c=function(){Ae(!1)},n=function(e){Le(e)};return C.on("visibility",tt),C.on("start",t),C.on("stop",c),C.on("time",n),nt(),C.on("users",(function(t){if(e){var c=t.filter((function(e){return 0===e.sold_status}));X(c),te(t)}})),C.on("checkname",(function(t){e&&A(t)})),function(){e=!1,C.off("visibility",tt),C.off("start",t),C.off("stop",c),C.off("time",n),C.off("users"),C.off("checkname"),C.off("user_toggle")}}),[C]),Object(o.useEffect)((function(){var e;if(Me){var t=Object(k.throttle)((function(){C.emit("tick")}),1e3);e=setInterval(t,1e3)}else clearInterval(e);return function(){return clearInterval(e)}}),[Me]);var st=function(e){var t=Math.floor(e/60).toString().padStart(2,"0"),c=(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(c)},at=ee.filter((function(e){return e.buyer===S.link_id})),rt=ee.filter((function(e){return e.brokers===J&&0!=e.buyer}));return Object(u.jsxs)(u.Fragment,{children:[Ye?Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"overlay",children:Object(u.jsxs)("div",{className:"spinner-container",children:[Object(u.jsx)("div",{className:"spinner"}),Object(u.jsx)("span",{children:"Verifying data..."})]})})}):"",Je&&""!==S.type?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{style:{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(u.jsx)(y.a,{type:"spin",color:"#007bff",height:50,width:50}),Object(u.jsx)("div",{style:{marginTop:"20px",fontSize:"16px",fontWeight:"bold"},children:"Verifying Data..."})]})}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(g,{title:"My Lot",onClose:function(){return b(!1)},show:n,filteredData:"BROKERS"===S.type?rt:at}),Object(u.jsxs)("div",{className:"section-head sec-h",children:[Object(u.jsxs)("p",{className:"br-n",children:["=",M,"="]}),Object(u.jsxs)("div",{className:"row newc",children:[Object(u.jsxs)("div",{className:"col-7 col-md-9 card-btn leftCard",children:[Object(u.jsxs)("h2",{children:["Auction Date:"," ",0===v.length?"":v[0].date," "]}),Object(u.jsxs)("p",{children:["SALE NO - #",0===v.length?"":v[0].sale_no," ",ye," "]}),Object(u.jsxs)("p",{children:["Season - #",0===v.length?"":v[0].season," "]}),Object(u.jsxs)("p",{children:["CURRENT BROKER :"," ",Object(u.jsx)("span",{className:"c_brokers",children:M})," "]}),Object(u.jsx)("div",{className:" row margin-left",children:Object(u.jsx)("button",{type:"button",onClick:Ze,className:"col-5 buttonGroup btn btn-success my-btn",children:"My Lot"})})]}),Object(u.jsx)("div",{className:"col-5 col-md-3 align-items-center justify-content-center mt-5 rCard",children:Object(u.jsx)("div",{className:"col-12",children:Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"row rightCard",children:Object(u.jsxs)("div",{className:" ",children:[Object(u.jsx)("div",{className:"col-md-6 count-t",children:Object(u.jsx)("h2",{className:"text-center mh2",children:st(Be)})}),Object(u.jsx)("div",{className:"col-md-6 name-t",children:Object(u.jsx)("h2",{className:"mh2 text-center",children:S.short_name})})]})}),Object(u.jsx)("div",{children:Object(u.jsx)("div",{className:"col-md-12 name-t mh3",children:Object(u.jsxs)("h4",{className:" text-center",children:["Remaining : ",H.length," Lot"]})})})]})})})]})]}),Ee&&"BIDDER"===S.type?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{className:"text-center  p-h",children:["-=",S.type," PANEL=-"]}),Object(u.jsx)(m,{})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("h2",{className:"text-center p-h",children:["-=",S.type," PANEL=-"]}),Object(u.jsx)("hr",{className:"hr-h"}),Object(u.jsx)(I,{time:Be,list:H,startIndex:he,endIndex:pe,users:S,formatTime:st,manualmode:He,selectedIndex:je,handleInputChange:function(e,t){var c=e.target,n=c.name,s=c.value;D((function(e){var c=Object(l.a)(e);return c[t]=Object(i.a)(Object(i.a)({},c[t]),{},Object(r.a)({},n,s)),c})),L(t)},addBid:$e,handleInc:ct,disabledButtons:ie,setManualmode:Xe,setSelectedIndex:be})]})]})]})}},93:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(5);function s(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,n)}return c}function a(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?s(Object(c),!0).forEach((function(t){Object(n.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):s(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}}}]);
//# sourceMappingURL=6.54fba582.chunk.js.map